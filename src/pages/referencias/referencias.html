<ion-header>
  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Referências</ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>
  <h4>Pesquisar</h4>
  <form>
    <ion-item>
        <ion-input [(ngModel)]="refs.codigo" name="codigo" clearInput placeholder="Digite o código do procedimento" type="number"></ion-input>
    </ion-item>
    <br/>
    <h6>OU</h6>
    <br/>
    <ion-item>
        <ion-input [(ngModel)]="refs.descricao" name="descricao"  clearInput placeholder="Digite a descrição do procedimento" type=""></ion-input>
    </ion-item>
    <br/>
    <button ion-button block (click)="showBy()">OK</button>
  </form>
  <br/>
  <ng-container *ngIf="(isShowByCodigo == true && isShowByDescricao == false) ||
                (isShowByCodigo == false && isShowByDescricao == true); else showDefault">
      <ng-container *ngIf="isShowByCodigo == true && isShowByDescricao == false; else showTabelaDescricao">
        <ion-card class="cor-card" *ngIf="isTyped">
          <ion-card-title>
            <h3 class="titulo-card">Código: {{ guardaResposta.codigo }}</h3>
          </ion-card-title>
          <ion-card-content>
            <p><span class="tipo-item">Descrição: </span>
              <span class="item">{{ guardaResposta.descricao }}</span>
            </p>
            <p><span class="tipo-item">Pontos: </span>
              <span class="item">{{ guardaResposta.pontos }}</span>
            </p>
            <p><span class="tipo-item">Valor: </span>
              <span class="item">{{ guardaResposta.valor}}</span>
            </p>
          </ion-card-content>
        </ion-card>
      </ng-container>
      <ng-template #showTabelaDescricao>
        <table>
          <tr>
            <th>Código</th>
            <th>Descrição</th>
            <th>Pontos</th>
            <th>Valor</th>
          </tr>
          <tr *ngFor="let item of items">
            <td>{{ item.codigo }}</td>
            <td>{{ item.descricao }}</td>
            <td>{{ item.pontos }}</td>
            <td>{{ item.valor | currency}}</td>
          </tr>
        </table>
      </ng-template>
  </ng-container>

  <ng-template #showDefault>
  </ng-template>
</ion-content>
